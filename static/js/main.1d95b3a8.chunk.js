(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(12),s=n.n(r),i=(n(25),n(5)),o=n(6),l=n.n(o),u=n(8),b=n(9),j=n(0),d="http://127.0.0.1:3000/",O=d+"createnew",f=d+"update/",h=d+"delete/",p=Object(i.b)({key:"notes",default:[]}),x=Object(i.b)({key:"searched_notes",default:[]}),v=Object(i.b)({key:"selected_note",default:[!1,!1]}),y=Object(i.b)({key:"opened",default:null}),g=Object(i.b)({key:"changed",default:!1}),m=n(2);function w(e){var t=e.isClicked,n=e.index,c=e.note,a=Object(i.c)(y),r=Object(j.a)(a,2)[1],s=Object(i.c)(v),o=Object(j.a)(s,2),l=o[0],u=o[1],b=Object(i.c)(g),d=Object(j.a)(b,2)[1];return Object(m.jsxs)("div",{className:t?"note_list highlight":"note_list",onClick:function(){return function(e){r(e),u(l.map((function(e,t){return t===n}))),d(!1)}(c)},children:[Object(m.jsx)("div",{className:"title",children:c.title}),Object(m.jsxs)("div",{className:"body",children:[c.body.slice(0,25),"..."]})]})}function k(){var e=Object(i.c)(p),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(i.c)(x),s=Object(j.a)(r,2),o=s[0],O=s[1],f=Object(c.useState)(""),h=Object(j.a)(f,2),k=h[0],N=h[1],C=Object(i.c)(v),S=Object(j.a)(C,2),E=S[0],_=S[1],A=Object(i.c)(y),F=Object(j.a)(A,2)[1],J=Object(i.c)(g),P=Object(j.a)(J,2)[1];function T(){return(T=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d);case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){(function(){return T.apply(this,arguments)})().then((function(e){a(e),O(e),_(new Array(e.length).fill(!1))}))}),[]),Object(c.useEffect)((function(){!function(){var e=[];n.forEach((function(t){-1===t.title.indexOf(k)&&-1===t.body.indexOf(k)||e.push(t)})),O(e),_(new Array(e.length).fill(!1))}()}),[k]),Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("div",{className:"search",children:Object(m.jsx)("input",{placeholder:"search note",value:k,onChange:function(e){return N(e.target.value)}})}),Object(m.jsx)("div",{className:"all_notes",children:o.map((function(e,t){return Object(m.jsx)(w,{note:e,isClicked:E[t],index:t},e.id)}))}),Object(m.jsx)("div",{className:"create_new",onClick:function(){var e={title:"Untitled "+n.length,body:"..",id:Date.now(),created_at:new Date,new:!0};a([e].concat(Object(b.a)(n))),O([e].concat(Object(b.a)(n))),F(e),_(new Array(o.length+1).fill(0).map((function(e,t){return 0==t}))),P(!1)},children:"New"})]})}var N=n(3),C=n(19),S=n(20);function E(){return Object(m.jsx)("div",{children:"No note is selected"})}function _(e){var t=e.note,n=Object(c.useState)(t.title),a=Object(j.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(t.body),d=Object(j.a)(o,2),w=d[0],k=d[1],E=Object(i.c)(p),_=Object(j.a)(E,2),A=_[0],F=_[1],J=Object(i.c)(g),P=Object(j.a)(J,2),T=P[0],D=P[1],B=Object(i.c)(y),I=Object(j.a)(B,2)[1],L=Object(i.c)(v),U=Object(j.a)(L,2),M=U[0],q=U[1],z=Object(i.c)(x),G=Object(j.a)(z,2),H=G[0],K=G[1];function Q(){return(Q=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({title:r,body:w})});case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(n=e.sent).added){e.next=12;break}F([n.note].concat(Object(b.a)(A.slice(1,A.length)))),I(n.note),e.next=13;break;case 12:throw new Error("Can't Create new Note");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function R(){return(R=Object(u.a)(l.a.mark((function e(){var n,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.id,e.next=4,fetch(f+n,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({title:r,body:w})});case 4:return c=e.sent,e.next=7,c.json();case 7:if(!(a=e.sent).updated){e.next=14;break}F(A.map((function(e){return e.id===t.id?a.note:e}))),I(a.note),D(!1),e.next=15;break;case 14:throw new Error("Can't Update");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function V(){return(V=Object(u.a)(l.a.mark((function e(){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.new){e.next=7;break}return F(A.slice(1,A.length)),K(A.slice(1,A.length)),I(null),q(M.map((function(e){return!1}))),e.abrupt("return");case 7:return n=t.id,e.next=10,fetch(h+n);case 10:return c=e.sent,e.next=13,c.json();case 13:if(!e.sent.deleted){e.next=21;break}F(A.slice(1,A.length)),K(A.slice(1,A.length)),I(null),q(M.map((function(e){return!1}))),e.next=22;break;case 21:throw new Error("Can't delete");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){s(t.title),k(t.body)}),[t]),Object(c.useEffect)((function(){!function(){if(t.title!==r||t.body!==w){!t.new&!T&&D(!0);var e=Object(N.a)(Object(N.a)({},t),{changed:!0,title:r,body:w});F(A.map((function(n){return n.id===t.id?e:n}))),K(H.map((function(n){return n.id===t.id?e:n})))}}()}),[r,w]),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"title_wrap",children:[Object(m.jsx)("input",{className:"title",value:r,onChange:function(e){return s(e.target.value)}}),Object(m.jsx)("button",{className:"delete",onClick:function(){return V.apply(this,arguments)},children:Object(m.jsx)(C.a,{icon:S.a})})]}),Object(m.jsx)("div",{className:"line"}),Object(m.jsx)("textarea",{className:"body",value:w,onChange:function(e){return k(e.target.value)}}),Object(m.jsx)("button",{className:T||t.changed?"show btn":"hidden btn",onClick:function(){return R.apply(this,arguments)},children:"Save Change"}),Object(m.jsx)("button",{className:t.new?"show btn":"hidden btn",onClick:function(){return Q.apply(this,arguments)},children:"Create"})]})}function A(){var e=Object(i.c)(y),t=Object(j.a)(e,1)[0];return Object(m.jsx)("div",{className:"note_body",children:t?Object(m.jsx)(_,{note:t}):Object(m.jsx)(E,{})})}n(33);var F=function(){return Object(m.jsxs)(i.a,{className:"App",children:[Object(m.jsx)(k,{}),Object(m.jsx)(A,{})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(F,{})}),document.getElementById("root")),J()}},[[34,1,2]]]);
//# sourceMappingURL=main.1d95b3a8.chunk.js.map